(function(){"use strict";var e={3370:function(e,t,o){var r=o(6369),a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"corpo"},[t("meu-menu",{attrs:{routes:e.routes}}),t("transition",{attrs:{name:"pagina"}},[t("router-view")],1)],1)},s=[],i=function(){var e=this,t=e._self._c;return t("div",[t("h1",{staticClass:"centralizado"},[e._v("Cadastro")]),t("h2",{staticClass:"centralizado"},[e._v(e._s(e.foto.titulo))]),this.id?t("h2",{staticClass:"centralizado"},[e._v("Alterando")]):t("h2",{staticClass:"centralizado"},[e._v("Incluindo")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.gravar()}}},[t("div",{staticClass:"controle"},[t("label",{attrs:{for:"titulo"}},[e._v("TÍTULO")]),t("input",{directives:[{name:"validate",rawName:"v-validate"},{name:"model",rawName:"v-model",value:e.foto.titulo,expression:"foto.titulo"}],attrs:{"data-vv-as":"título",name:"titulo","data-vv-rules":"required|min:3|max:30",id:"titulo",autocomplete:"off"},domProps:{value:e.foto.titulo},on:{input:function(t){t.target.composing||e.$set(e.foto,"titulo",t.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("titulo"),expression:"errors.has('titulo')"}],staticClass:"erro"},[e._v(e._s(e.errors.first("titulo")))])]),t("div",{staticClass:"controle"},[t("label",{attrs:{for:"url"}},[e._v("URL")]),t("input",{directives:[{name:"validate",rawName:"v-validate"},{name:"model",rawName:"v-model",value:e.foto.url,expression:"foto.url"}],attrs:{name:"url","data-vv-rules":"required",id:"url",autocomplete:"off"},domProps:{value:e.foto.url},on:{input:function(t){t.target.composing||e.$set(e.foto,"url",t.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("url"),expression:"errors.has('url')"}],staticClass:"erro"},[e._v(e._s(e.errors.first("url")))]),t("imagem-responsiva",{directives:[{name:"show",rawName:"v-show",value:e.foto.url,expression:"foto.url"}],attrs:{titulo:e.foto.titulo,url:e.foto.url}})],1),t("div",{staticClass:"controle"},[t("label",{attrs:{for:"descricao"}},[e._v("DESCRIÇÃO")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.foto.descricao,expression:"foto.descricao"}],attrs:{id:"descricao",autocomplete:"off"},domProps:{value:e.foto.descricao},on:{input:function(t){t.target.composing||e.$set(e.foto,"descricao",t.target.value)}}})]),t("div",{staticClass:"centralizado"},[t("meu-botao",{attrs:{rotulo:"GRAVAR",tipo:"submit"}}),t("router-link",{attrs:{to:{name:"home"}}},[t("meu-botao",{attrs:{rotulo:"VOLTAR",tipo:"button"}})],1)],1)])])},n=[],l=(o(7658),function(){var e=this,t=e._self._c;return t("img",{staticClass:"imagem-responsiva",attrs:{src:e.url,alt:e.titulo}})}),u=[],c={props:{url:{type:String,required:!0},titulo:{type:String,required:!0}}},m=c,d=o(1001),p=(0,d.Z)(m,l,u,!1,null,"48a702fe",null),v=p.exports,f=function(){var e=this,t=e._self._c;return t("button",{class:e.estiloDoBotao,attrs:{type:e.tipo},on:{click:function(t){return e.disparaAcao()}}},[e._v(" "+e._s(e.rotulo)+" ")])},h=[],g={props:{tipo:{type:String,required:!0},rotulo:{type:String,required:!0},confirmacao:{type:Boolean,default:!1},estilo:{type:String}},computed:{estiloDoBotao(){let e="botao-padrao";return"perigo"===this.estilo&&(e="botao-perigo"),"botao "+e}},methods:{disparaAcao(){this.confirmacao?confirm("Confirma operação")&&this.$emit("botaoAtivado"):this.$emit("botaoAtivado")}}},_=g,$=(0,d.Z)(_,f,h,!1,null,"7d402cfb",null),b=$.exports;class O{constructor(e="",t="",o=""){this.titulo=e,this.url=t,this.descricao=o}}class w{constructor(e){this._resource=e("v1/fotos{/id}")}cadastra(e){return e._id?this._resource.update({id:e._id},e):this._resource.save(e)}lista(){return this._resource.query().then((e=>e.json()),(e=>{throw console.log(e),new Error("Não foi possível obter as fotos. Tente mais tarde.")}))}apaga(e){return this._resource.delete({id:e}).then(null,(e=>{throw console.log(e),new Error("Não foi possível remover a foto")}))}busca(e){return this._resource.get({id:e}).then((e=>e.json()))}}var x={data(){return{foto:new O,id:this.$route.params.id}},created(){this.service=new w(this.$resource),this.id&&this.service.busca(this.id).then((e=>this.foto=e))},methods:{gravar(){this.$validator.validateAll().then((e=>{e&&this.service.cadastra(this.foto).then((()=>{this.id&&this.$router.push({name:"home"}),this.foto=new O}),(e=>console.log(e)))}))}},components:{"imagem-responsiva":v,"meu-botao":b}},C=x,y=(0,d.Z)(C,i,n,!1,null,"ae4d2bf4",null),P=y.exports,q=function(){var e=this,t=e._self._c;return t("div",[t("h1",{staticClass:"centralizado"},[e._v(" "+e._s(e.titulo)+" ")]),t("p",{directives:[{name:"show",rawName:"v-show",value:e.mensagem,expression:"mensagem"}],staticClass:"centralizado"},[e._v(e._s(e.mensagem))]),t("input",{staticClass:"filtro",attrs:{type:"search",placeholder:"filtre por parte do título"},on:{input:function(t){e.filtro=t.target.value}}}),t("ul",{staticClass:"lista-fotos"},e._l(e.fotosComFiltro,(function(o){return t("li",{key:o.url,staticClass:"lista-fotos-item"},[t("meu-painel",{attrs:{titulo:o.titulo}},[t("imagem-responsiva",{directives:[{name:"meu-transform",rawName:"v-meu-transform.animate",value:15,expression:"15",modifiers:{animate:!0}}],attrs:{url:o.url,titulo:o.titulo}}),t("router-link",{attrs:{to:{name:"altera",params:{id:o._id}}}},[t("meu-botao",{attrs:{rotulo:"ALTERAR",tipo:"button"}})],1),t("meu-botao",{attrs:{rotulo:"REMOVER",tipo:"button",confirmacao:!0,estilo:"perigo"},on:{botaoAtivado:function(t){return e.remove(o)}}})],1)],1)})),0)])},Z=[],k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"painel"},[t("h2",{staticClass:"painel-titulo",on:{dblclick:function(t){e.visible=!e.visible}}},[e._v(" "+e._s(e.titulo)+" ")]),t("transition",{attrs:{name:"painel-fead"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"painel-corpo"},[e._t("default")],2)])],1)},A=[],N={props:{titulo:{type:String,required:!0}},data(){return{visible:!0}}},R=N,j=(0,d.Z)(R,k,A,!1,null,"9ee334e0",null),E=j.exports,T={components:{"meu-painel":E,"imagem-responsiva":v,"meu-botao":b},computed:{fotosComFiltro(){if(this.filtro){let e=new RegExp(this.filtro.trim(),"i");return this.fotos.filter((t=>e.test(t.titulo)))}return this.fotos}},data(){return{titulo:"Primeiro Projeto Vue",fotos:[],filtro:"",mensagem:""}},methods:{remove(e){this.service.apaga(e._id).then((()=>{let t=this.fotos.indexOf(e);this.fotos.splice(t,1),this.mensagem="Foto removida com sucesso"}),(e=>this.mensagem=e.message))}},created(){this.service=new w(this.$resource),this.service.lista().then((e=>this.fotos=e),(e=>this.mensagem=e.message))}},z=T,S=(0,d.Z)(z,q,Z,!1,null,null,null),B=S.exports;const L=[{path:"",name:"home",component:B,titulo:"Home",menu:!0},{path:"/cadastro",name:"cadastro",component:P,titulo:"Cadastro",menu:!0},{path:"/cadastro/:id",name:"altera",component:P,titulo:"Cadastro",menu:!1},{path:"*",component:B,menu:!1}];var D=function(){var e=this,t=e._self._c;return t("nav",[t("ul",e._l(e.routes,(function(o){return t("li",{key:o.path},[t("router-link",{attrs:{to:o.path?o.path:"/"}},[e._v(" "+e._s(o.titulo)+" ")])],1)})),0)])},F=[],V={props:{routes:{type:Array,required:!0}}},I=V,U=(0,d.Z)(I,D,F,!1,null,null,null),M=U.exports,G={components:{"meu-menu":M},data(){return{routes:L.filter((e=>e.menu))}}},H=G,K=(0,d.Z)(H,a,s,!1,null,null,null),J=K.exports,Q=o(79),W=o.n(Q),X=o(8408),Y=o.n(X),ee=o(7499),te=o.n(ee);r.ZP.directive("meu-transform",{bind(e,t){let o=0;e.addEventListener("dblclick",(function(){let r,a=t.value||90;t.arg&&"rotate"!=t.arg?"scale"==t.arg&&(r=`scale(${a})`):(t.modifiers.reverse?o-=a:o+=a,r=`rotate(${o}deg)`),e.style.transform=r,t.modifiers.animate&&(e.style.transition="transform 0.5s")}))}});var oe={after:(e,[t])=>`O campo ${e} deve estar depois do campo ${t}.`,alpha_dash:e=>`O campo ${e} deve conter letras, números e traços.`,alpha_num:e=>`O campo ${e} deve conter somente letras e números.`,alpha_spaces:e=>`The ${e} só pode conter caracteres alfabéticos e espaços.`,alpha:e=>`O campo ${e} deve conter somente letras.`,before:(e,[t])=>`O campo ${e} deve estar antes do campo ${t}.`,between:(e,[t,o])=>`O campo ${e} deve estar entre ${t} e ${o}.`,confirmed:(e,[t])=>`O campo ${e} e ${t} devem ser iguais.`,credit_card:e=>`O campo ${e} é inválido.`,date_between:(e,[t,o])=>`O campo ${e} deve estar entre ${t} e ${o}.`,date_format:(e,[t])=>`O campo ${e} deve estar no formato ${t}.`,decimal:(e,[t]=["*"])=>`O campo ${e} deve ser numérico e deve conter ${"*"===t?"":t} casas decimais.`,digits:(e,[t])=>`O campo ${e} deve ser numérico e ter ${t} dígitos.`,dimensions:(e,[t,o])=>`O campo ${e} deve ter ${t} pixels de largura por ${o} pixels de altura.`,email:e=>`O campo ${e} deve ser um email válido.`,ext:e=>`O campo ${e} deve ser um arquivo válido.`,image:e=>`O campo ${e} deve ser uma imagem.`,in:e=>`O campo ${e} deve ter um valor válido.`,ip:e=>`O campo ${e} deve ser um endereço IP válido.`,max:(e,[t])=>`O campo ${e} não deve ter mais que ${t} caracteres.`,max_value:(e,[t])=>`O campo ${e} precisa ser ${t} ou menor.`,mimes:e=>`O campo ${e} deve ser um tipo de arquivo válido.`,min:(e,[t])=>`O campo ${e} deve conter pelo menos ${t} caracteres.`,min_value:(e,[t])=>`O campo ${e} precisa ser ${t} ou maior.`,not_in:e=>`O campo ${e} deve ser um valor válido.`,numeric:e=>`O campo ${e} deve conter apenas números`,regex:e=>`O campo ${e} possui um formato inválido.`,required:e=>`O campo ${e} é obrigatório.`,size:(e,[t])=>`O campo ${e} deve ser menor que ${t} KB.`,url:e=>`O campo ${e} não é uma URL válida.`};r.ZP.use(Y());const re=new(Y())({routes:L,mode:"history"});r.ZP.use(W()),r.ZP.http.options.root="http://localhost:3000",r.ZP.config.productionTip=!1,r.ZP.use(te(),{locale:"pt_BR",dictionary:{pt_BR:{messages:oe}}}),new r.ZP({router:re,render:e=>e(J)}).$mount("#app")}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,r,a,s){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],s=e[c][2];for(var n=!0,l=0;l<r.length;l++)(!1&s||i>=s)&&Object.keys(o.O).every((function(e){return o.O[e](r[l])}))?r.splice(l--,1):(n=!1,s<i&&(i=s));if(n){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,a,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,i=r[0],n=r[1],l=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(l)var c=l(o)}for(t&&t(r);u<i.length;u++)s=i[u],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},r=self["webpackChunkoneprojeto"]=self["webpackChunkoneprojeto"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(3370)}));r=o.O(r)})();
//# sourceMappingURL=app.85df5475.js.map